(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{366:function(t,e,i){"use strict";i(93);var n=i(388),r=i(365);e.a={props:{options:{type:Object,default:function(){return{}}},addToMap:{type:Boolean,default:!0},useSelfMethods:{type:Boolean,default:!0}},data:function(){return{ready:!1,selfOptions:{},self:null}},methods:{getOptions:function(){return this.selfOptions},getSelf:function(){return this.self},initFunction:function(){var t=this;if(!this.self)return!1;Object(n.a)(this,this.lMap),r.DomEvent.on(this.self,this.$listeners),Object(n.c)(this,this.self,this.$options.props),Object(n.c)(this,this.self,{},this.options),this.$nextTick((function(){t.ready=!0,t.useSelfMethods&&Object(n.b)(t,t.self),t.$emit("ready",t.map,t.selfOptions)}))}}}},368:function(t,e,i){"use strict";i.r(e);i(90);var n=i(391);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},369:function(t,e,i){"use strict";i.r(e);i(90);var n=i(392);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},370:function(t,e,i){"use strict";i.r(e);i(90);var n=i(393);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},371:function(t,e,i){"use strict";i.r(e);i(90);var n=i(389);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},372:function(t,e,i){"use strict";i.r(e);i(90);var n=i(394);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},373:function(t,e,i){"use strict";i.r(e);i(90);var n=i(395);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},374:function(t,e,i){"use strict";i.r(e);i(90);var n=i(396);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},375:function(t,e,i){"use strict";i.r(e);i(90);var n=i(397);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},376:function(t,e,i){"use strict";i.r(e);i(90);var n=i(398);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},377:function(t,e,i){"use strict";i.r(e);i(90);var n=i(390);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},378:function(t,e,i){"use strict";i.r(e);i(90);var n=i(399);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},379:function(t,e,i){"use strict";i.r(e);i(90);var n=i(400);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},380:function(t,e,i){"use strict";i.r(e);i(90);var n=i(401);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},381:function(t,e,i){"use strict";i.r(e);i(90);var n=i(402);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},382:function(t,e,i){"use strict";i.r(e);i(90);var n=i(403);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},383:function(t,e,i){"use strict";i.r(e);i(90);var n=i(404);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},384:function(t,e,i){"use strict";i.r(e);i(90);var n=i(405);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},385:function(t,e,i){"use strict";i.r(e);i(90);var n=i(406);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},386:function(t,e,i){"use strict";i.r(e);i(90);var n=i(407);n.default.install=function(t){t.component(n.default.name,n.default)},e.default=n.default},388:function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return s}));i(64),i(125),i(61),i(65),i(6),i(218),i(212),i(216);var n=i(365),r=function(t,e,i,r){var a=Object.assign({},i,r),s=function(i){var s,o="set"+((s=i)&&"function"==typeof s.charAt?s.charAt(0).toUpperCase()+s.slice(1):s),l=a[i].type===Object||a[i].type===Array||Array.isArray(a[i].type),u=r?"options."+i:i;a[i].custom&&t[o]?t.$watch(u,(function(e,i){t[o](e,i)}),{deep:l}):"setOptions"===o?t.$watch(u,(function(t,i){Object(n.setOptions)(e,t)}),{deep:l}):e[o]&&t.$watch(u,(function(t,i){e[o](t)}),{deep:l})};for(var o in a)s(o)},a=function(t,e){var i={},n=function(n){!e[n]||n&&n.startsWith("_")||"function"!=typeof e[n]||(i[n]=e[n],t[n]=function(){return e[n].apply(e,arguments)})};for(var r in e)n(r);return i},s=function(t,e){if(t.addToMap)t.self.addTo(e.self);else{var i=t.$parent;i&&i.addLayer||(i=e),i.self&&i.self.addLayer(t.self)}}},389:function(t,e,i){"use strict";i.r(e);var n=i(366),r=(i(123),i(91),i(6),i(92),i(365));r.TileLayer.WMTS=r.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.0.0",layer:"",style:"",tilematrixset:"",format:"image/jpeg"},initialize:function(t,e){this._url=t;var i={};Object.keys(e).forEach((function(t){i[t.toLowerCase()]=e[t]}));var n=r.extend({},this.defaultWmtsParams),a=i.tileSize||this.options.tileSize;for(var s in i.detectRetina&&r.Browser.retina?n.width=n.height=2*a:n.width=n.height=a,e.tilematrix&&(n.tilematrix=e.tilematrix),i)n.hasOwnProperty(s)&&"matrixIds"!=s&&(n[s]=i[s]);this.wmtsParams=n,this.matrixIds=e.matrixIds||this.getDefaultMatrix(),r.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,r.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this.options.tileSize,i=t.multiplyBy(e);i.x+=1,i.y-=1;var n=i.add(new r.Point(e,e)),a=this._tileZoom,s=this._crs.project(this._map.unproject(i,a)),o=this._crs.project(this._map.unproject(n,a)).x-s.x,l=this.matrixIds[a].identifier,u=this.matrixIds[a].topLeftCorner.lng,c=this.matrixIds[a].topLeftCorner.lat,d=Math.floor((s.x-u)/o),f=-Math.floor((s.y-c)/o),h=r.Util.template(this._url,{s:this._getSubdomain(t)}),p=Object.assign({},this.wmtsParams);return this.wmtsParams.tilematrix&&(l=this.wmtsParams.tilematrix+(l-1),delete p.tilematrix,console.log("--------",l)),h+r.Util.getParamString(p,h)+"&tilematrix="+l+"&tilerow="+f+"&tilecol="+d},setParams:function(t,e){return r.extend(this.wmtsParams,t),e||this.redraw(),this},getDefaultMatrix:function(){for(var t=new Array(22),e=0;e<22;e++)t[e]={identifier:1+e,topLeftCorner:new r.LatLng(90,-180)};return t}});var a={name:"LWmtsTileLayer",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{url:{type:String,default:null}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){var t,e;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=(t=this.url,e=this.selfOptions,new r.TileLayer.WMTS(t,e)),this.initFunction()}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this.ready?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=o.exports},390:function(t,e,i){"use strict";i.r(e);var n=i(362),r=i(361),a=i(86),s=(i(207),i(125),i(466),i(6),i(123),i(93),i(94),i(95),i(128),i(25),i(208),i(388)),o=i(366),l=(i(91),i(92),i(209),i(469)),u=i(467),c=i.n(u),d=i(468),f=i.n(d),h={data:function(){return{marker:{move:null,num:[]},markerTips:"开始",markerTipsStart:"开始",markerTipsGoon:"绘制",markerTipsEnd:"结束",markerTipsPlohgonEnd:"单击任意节点或双击结束绘制",coordinateArr:[],tempCoordinateArr:[],tempDrawing:null,drawingStatus:"",measureMarker:null}},computed:{coordinateArrLen:function(){return this.coordinateArr.length}},methods:{initDrawShapeStatus:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&this.emitFinishDraw(this.tempDrawing),this.coordinateArr=[],this.tempDrawing=null,this.measureMarker=null,this.clearMarker()},onMapClick:function(t){if(this.editable){var e=t.latlng,i=[e.lat,e.lng],n=this.editType;if("marker"==n)this.dealDrawMarker(i),this.emitStartDraw(i);else if("circleMarker"==n)this.dealDrawCircleMarker(i),this.emitStartDraw(i);else if("rectangle"===n)this.coordinateArrLen>=1?this.finishDrawRectangle():(this.drawMarkerNum(0,e),this.dealDrawRectangle(i),this.emitStartDraw(i));else if("polygon"===n){this.dealDrawPolygon(i);var r=this.coordinateArrLen;this.drawMarkerNum(r-1,e),1==r?(this.emitStartDraw(i),this.marker.move.setTooltipContent(this.markerTipsGoon)):r>3&&this.marker.move.setTooltipContent(this.markerTipsPlohgonEnd)}else"circle"===n?(this.dealDrawCircle(i),this.clearMarker()):"polyline"===n&&this.dealDrawPolyline(i,"click")}},onMapMousemove:function(t){if(this.editable){var e=t.latlng,i=[e.lat,e.lng],n=this.editType;this.coordinateArr.length>0?"rectangle"===n?(this.drawMarker(e),this.dealDrawRectangle(i,"move")):"polygon"===n?(this.drawMarker(e),this.dealDrawPolygon(i,"move")):"circle"===n?(this.drawMarker(e,!1),this.marker.move.setTooltipContent(this.markerTipsEnd),this.dealDrawCircle(i,"move")):"polyline"===n&&(this.drawMarker(e),this.dealDrawPolyline(i,"move")):"marker"==n?this.dealDrawMarker(i,"move"):"circleMarker"==n?this.dealDrawCircleMarker(i,"move"):this.drawMarker(e)}},dealDrawMarker:function(t,e){"move"==e?this.marker.move?this.marker.move.setLatLng(t):this.marker.move=this.drawSelfMarker(t):(this.tempDrawing=this.drawSelfMarker(t),this.initDrawShapeStatus())},drawSelfMarker:function(t){var e=Object(r.a)({icon:L.icon({iconUrl:c.a,shadowUrl:f.a,iconAnchor:[12,38]})},this.drawStyle);return L.marker(t,e).addTo(this.drawLayer)},dealDrawCircleMarker:function(t,e){"move"==e?this.marker.move?this.marker.move.setLatLng(t):this.marker.move=this.drawCircleMarker(t):(this.tempDrawing=this.drawCircleMarker(t),this.initDrawShapeStatus())},drawCircleMarker:function(t){var e=Object(r.a)({radius:10},this.drawStyle);return L.circleMarker(t,e).addTo(this.drawLayer)},dealDrawRectangle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";if("move"===e){this.marker.move.setTooltipContent(this.markerTipsEnd);var i=this.coordinateArr[0]?this.coordinateArr[0]:this.coordinateArr[1],n=[i[0],t[1]],r=[t[0],i[1]];this.drawMarkerNum(1,n),this.drawMarkerNum(2,r)}if(0==this.coordinateArr.length)this.coordinateArr.push(t);else{this.coordinateArr[1]=t;var a=this.coordinateArr;this.tempDrawing?(this.tempDrawing.setBounds(a),this.emitDrawing(this.tempDrawing,e,a)):this.tempDrawing=this.drawRectangle(a),this.getMeasure("area",2)}},drawRectangle:function(t){var e=this.drawStyle;return L.rectangle(t,e).addTo(this.drawLayer)},finishDrawRectangle:function(){this.initDrawShapeStatus()},dealDrawPolygon:function(t,e){var i=this.coordinateArr;if("move"===e){var n=this.marker.num&&this.marker.num.length;this.coordinateArr[n]=t}else this.coordinateArr.push(t);i=this.coordinateArr,this.tempDrawing?(this.tempDrawing.setLatLngs(i),this.emitDrawing(this.tempDrawing,e,i)):this.tempDrawing=this.drawPolygon(i),this.getMeasure()},drawPolygon:function(t){var e=this.drawStyle;return L.polygon(t,e).addTo(this.drawLayer)},finishDrawPolygon:function(){var t=this.coordinateArr;t.pop(),this.tempDrawing.setLatLngs(t),this.initDrawShapeStatus()},dealDrawCircle:function(t,e){if("move"==e){var i=this.coordinateArr[0],n=L.latLng(i).distanceTo(t);this.tempDrawing?(this.tempDrawing.setRadius(n),this.emitDrawing(this.tempDrawing,e,i)):(this.emitStartDraw(t),this.tempDrawing=this.drawCircle(i,n)),this.getMeasure("circle",{center:i,radius:n})}else this.coordinateArrLen>=1?this.finishDrawCircle():0==this.coordinateArr.length&&this.coordinateArr.push(t)},dealDistTwoPoing:function(t){return L.latLng(t).distanceTo(point2)},drawCircle:function(t,e){var i=this.drawStyle;return L.circle(t,e,i).addTo(this.drawLayer)},finishDrawCircle:function(){this.initDrawShapeStatus()},dealDrawPolyline:function(t,e){var i=this.coordinateArr;if("move"===e){var n=this.marker.num&&this.marker.num.length;this.coordinateArr[n]=t}else this.coordinateArr.push(t);if(i=this.coordinateArr,this.tempDrawing?(this.tempDrawing.setLatLngs(i),this.emitDrawing(this.tempDrawing,e,i)):(this.emitStartDraw(t),this.tempDrawing=this.drawPolyline(i)),"click"===e){var r=this.coordinateArrLen;this.drawMarkerNum(r-1,t),1==r?this.marker.move.setTooltipContent(this.markerTipsGoon):r>3&&this.marker.move.setTooltipContent(this.markerTipsPlohgonEnd)}this.getMeasure("length")},drawPolyline:function(t){var e=this.drawStyle;return L.polyline(t,e).addTo(this.drawLayer)},finishDrawPolyline:function(){var t=this.coordinateArr;t.pop(),this.tempDrawing.setLatLngs(t),this.initDrawShapeStatus()},getMeasure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"area",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(this.isMeasure&&this.tempDrawing){var i=this.coordinateArr,n=i.length;"area"==t&&n>=e?this.dealMeasure(t):"circle"==t?this.dealMeasure(t,e):"length"==t&&n>1&&this.dealMeasure(t)}},dealMeasure:function(t,e){var i=null==e&&this.tempDrawing.getCenter(),n=this.tempDrawing.toGeoJSON(),r=0,a="";if("length"==t){var s=this.coordinateArr;i=s[s.length-1],r="长度："+(r=l.length(n,{units:"miles"}))+" m",a="tips-top"}else if("circle"==t){i=e.center;var o=e.radius;r="面积："+(r=Math.PI*o*o)+" ㎡"}else r="面积："+(r=l.area(n))+" ㎡";var u=L.divIcon({className:"my-measure-icon",html:'<span class="tips '+a+'">'+r+"</span>"});this.measureMarker?this.measureMarker.setLatLng(i).setIcon(u):this.measureMarker=L.marker(i,{icon:u}).addTo(this.drawLayer)},drawMarker:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.marker.move)this.marker.move.setLatLng(t);else{var n={};i||(n={display:"none"}),this.marker.move=L.marker(t,{icon:this.drawIcon(n),zIndexOffset:99}).bindTooltip(this.markerTips,{permanent:!0,direction:"bottom",offset:L.point(0,9)}).openTooltip().addTo(this.lMap.self),this.marker.move.on("dblclick",(function(t){return"polygon"==e.editType&&e.coordinateArrLen>3?e.finishDrawPolygon():"polyline"==e.editType&&e.coordinateArrLen>2&&e.finishDrawPolyline(),!1}))}},drawMarkerNum:function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.marker.num[t];r&&r.remove();var a={};n||(a={display:"none"}),r=L.marker(e,{icon:this.drawIcon(a),zIndexOffset:99}).addTo(this.lMap.self),this.marker.num[t]=r,this.marker.num[t].on("click",(function(t){return"polygon"==i.editType&&i.coordinateArrLen>3?i.finishDrawPolygon():"polyline"==i.editType&&i.coordinateArrLen>2&&i.finishDrawPolyline(),!1}))},clearMarker:function(){var t=this.marker;t.move&&t.move.remove(),t.num.length>0&&t.num.forEach((function(t){t&&t.remove()})),this.marker.move=null,this.marker.num=[]},drawIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.drawStyle||{},i=e.color||"#4c7efd",n={"background-color":"#ffffff",width:"18px",height:"18px",position:"relative",left:"-9px",top:"-9px",display:"block","border-radius":"50%",outline:"none",border:"1px solid "+i},r=Object.assign({},n,this.drawIconStyle,t),a=Object.keys(r),s=a.map((function(t){return t+":"+r[t]+";"}));return s=s.join(""),L.divIcon({className:"my-custom-pin",iconAnchor:[0,0],html:'<span style="'.concat(s,'" />')})}}},p=(i(365),i(428)),m={name:"LDrawLayer",inject:["lMap"],mixins:[o.a,h],inheritAttrs:!1,props:{dToB:{type:[String,Array],default:"10px 80px"},position:{type:String,default:"topleft",validator:function(t){return-1!==["topleft","topright","bottomleft","bottomright"].indexOf(t)}},drawShapeMore:{type:Boolean,custom:!0,default:!0},drawOptions:{type:[Array,Object],default:function(){return["marker","circleMarker","rectangle","polygon","circle","polyline","delete"]},validator:function(t){var e=!0;return Array.isArray(t)&&(e=t.every((function(t){return"string"==typeof t||null!=t.type}))),e}},commonStyle:{type:Object,default:function(){return{color:"#4c7efd",weight:1}}},commonIconStyle:{type:Object,default:function(){return{}}},measure:{type:Boolean,default:!1}},data:function(){return{drawList:[],originOptions:{marker:{title:"标记"},circleMarker:{title:"圆形标记"},rectangle:{title:"绘制矩形"},rectangleMeasure:{title:"绘制测量矩形"},polygon:{title:"绘制多边形"},polygonMeasure:{title:"绘制测量多边形"},circle:{title:"绘制圆形"},polyline:{title:"绘制多线段"},polylineMeasure:{title:"绘制测量多线段"},delete:{title:"清除图层"}},renderDrawObj:{},mapObject:null,drawLayer:null,editable:!1,editType:"",isMeasure:this.measure}},watch:{drawOptions:{deep:!0,immediate:!0,handler:function(t,e){var i=this,n=this.originOptions,s=this.typeArr,o=Array.isArray(t)?t:Object.keys(t);this.renderDrawObj={},this.drawList=o.map((function(e){if(!s.includes(e.type||e))return console.error('绘制组件暂不支持"'.concat(e,'"的绘制类型，请查看文档后重新定义\n支持的绘制类型有：').concat(s)),!1;var o={},l=Object(a.a)(e),u=n[e]||n[e.type];return"string"===l?(o.type=e,t[e]&&(o=Object(r.a)(Object(r.a)({},o),t[e])),o=Object(r.a)(Object(r.a)({},u),o)):"object"===l&&(o=Object(r.a)(Object(r.a)({},u),e)),i.renderDrawObj[o.type]=o,o}))}}},computed:{typeArr:function(){return Object.keys(this.originOptions)},drawStyle:function(){var t=this.editType,e=this.renderDrawObj[t].style||{};return Object(r.a)(Object(r.a)({style:{color:"#4c7efd",weight:1}},this.commonStyle),e)},drawIconStyle:function(){var t=this.editType,e=this.renderDrawObj[t].iconStyle||{};return Object(r.a)(Object(r.a)({},this.commonIconStyle),e)},positionClass:function(){var t,e=this.dToB,i=this.position,r=(e=Array.isArray(e)?e:e.split(" "))[0],a=1==e.length?r:e[1],s=i.includes("left")?"left":"right",o=i.includes("top")?"top":"bottom";return t={},Object(n.a)(t,s,r),Object(n.a)(t,o,a),t}},methods:{handleDrawShape:function(t){var e=t.type;if(this.initDrawShapeStatus(!1),"delete"==e)return this.clearLayers(),!1;this.drawShapeMore||this.clearLayers(!0),this.getIsMeasure(t);var i=this.editType==e;this.editType=i?"":e,this.setEditable(!i),this.$emit("changeType",t)},getIsMeasure:function(t){this.isMeasure=null!=t.measure?t.measure:this.measure},setEditable:function(t){this.clearMarker(),this.editable=t},clearLayers:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.editType=""),this.setEditable(!1),this.drawLayer&&this.drawLayer.clearLayers()},getDrawLayers:function(t){var e=this.drawLayer;return t&&this.typeArr.includes(t)&&e.eachLayer((function(t){console.log(t)})),e.getLayers()},getDrawLayer:function(){return this.drawLayer},getFeatures:function(){return this.drawLayer.toGeoJSON().features||[]},toWKT:function(t){if(!t){var e=(t=this.getFeatures()).map((function(t){return t.geometry}));t={type:"GeometryCollection",geometries:e}}return Object(p.a)(t)},toWktArray:function(){return this.getFeatures().map((function(t){return Object(p.a)(t.geometry)}))},emitStartDraw:function(t){this.$emit("startDraw",t,this.editType)},emitDrawing:function(t,e,i){this.$emit("drawing",t,e,i)},emitFinishDraw:function(t){this.$emit("finishDraw",t)},initLeafletObject:function(){var t=this;this.mapObject=this.lMap.self,this.drawLayer=L.featureGroup(),this.mapObject.addLayer(this.drawLayer),this.mapObject.on("click",this.onMapClick),this.mapObject.on("mousemove",this.onMapMousemove),Object(s.c)(this,this.drawLayer,this.$options.props),Object(s.c)(this,this.drawLayer,{},this.options),this.$nextTick((function(){t.ready=!0,t.useSelfMethods&&Object(s.b)(t,t.drawLayer),t.$emit("ready",t.mapObject,t.selfOptions)}))}},mounted:function(){this.initLeafletObject()}},y=(i(470),i(471),i(18)),v=Object(y.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"l-draw-layer"},[i("div",{staticClass:"map-draw-wrap",style:t.positionClass},[i("div",{staticClass:"map-draw",on:{click:function(t){t.stopPropagation()},mousemove:function(t){t.stopPropagation()}}},t._l(t.drawList,(function(e,n){return i("div",{key:"draw-type-"+n,staticClass:"map-draw-item",class:[e.type,{active:e.type==t.editType}],attrs:{title:e.title},on:{click:function(i){return t.handleDrawShape(e)}}})})),0)])])}),[],!1,null,"fc76c740",null);e.default=v.exports},391:function(t,e,i){"use strict";i.r(e);i(93),i(34),i(35),i(212);var n=i(366),r=i(388),a=i(365),s=i(428),o={name:"LMap",mixins:[n.a],inheritAttrs:!1,provide:function(){return{lMap:this}},props:{id:{type:String,default:"map",require:!0},customStyle:{type:Object,default:function(){return{height:"100%",width:"100%","min-height":"100px",border:"1 px solid# ccc"}}},customClass:{type:[String,Object,Array]},crs:{type:[Object,String],validator:function(t){return"string"==typeof t?a.CRS[t]:t}}},data:function(){return{originOptions:{zoomControl:!1,attributionControl:!1,center:[29.726219990152643,114.43604336967388],zoom:4,minZoom:1,maxZoom:14},map:null,timer:null,timerNum:0}},methods:{geojsonToWKT:function(t){return Object(s.a)(t)},wktToGeoJSON:function(t){return Object(s.b)(t)},getMap:function(){return this.map},ensureMapDom:function(){var t=this;document.getElementById(this.id)?this.initMap():this.$nextTick((function(){try{if(t.timerNum>=10)throw Error("您的map承载容器的id未找到，请传入正确的id。");t.timer=setTimeout((function(){t.ensureMapDom(),t.timerNum++}),100)}catch(t){throw Error(t)}}))},initMap:function(){var t=this,e=this.crs,i=e?{crs:"string"==typeof e?a.CRS[e]:e}:{};this.selfOptions=Object(a.extend)(this.originOptions,this.options,this.$attrs,i),this.map=Object(a.map)(this.$el,this.selfOptions),this.self=this.map,a.DomEvent.on(this.self,this.$listeners),Object(r.c)(this,this.map,this.$options.props),Object(r.c)(this,this.map,{},this.options),this.$nextTick((function(){t.ready=!0,t.useSelfMethods&&Object(r.b)(t,t.self),t.$emit("ready",t.map,t.selfOptions)}))}},mounted:function(){this.ensureMapDom()},beforeDestroy:function(){this.map&&this.map.remove()}},l=(i(462),i(18)),u=Object(l.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"leaflet-map-container",class:this.customClass,style:this.customStyle,attrs:{id:this.id}},[this.ready?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=u.exports},392:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LTileLayer",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{url:{type:String,default:null}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.tileLayer)(this.url,this.selfOptions),this.initFunction()}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this.ready?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=o.exports},393:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LWmsTileLayer",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{url:{type:String,default:null},params:{type:Object,default:function(){return{format:"image/png",transparent:!0}}}},data:function(){return{originOptions:{}}},methods:{setOptions:function(t,e){},initLeafletObject:function(){this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.params,this.$attrs),this.self=r.tileLayer.wms(this.url,this.selfOptions),this.initFunction()}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this.ready?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=o.exports},394:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LImageOverlay",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{url:{type:String,default:null},bounds:{type:[Object,Array]}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.imageOverlay)(this.url,this.bounds,this.selfOptions),this.initFunction()}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this.ready?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=o.exports},395:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LVideoOverlay",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{url:{type:String,default:null},bounds:{type:[Object,Array]}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.videoOverlay)(this.url,this.bounds,this.selfOptions),this.initFunction()}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this.ready?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=o.exports},396:function(t,e,i){"use strict";i.r(e);var n=i(361),r=i(362),a=(i(207),i(125),i(25),i(208),i(94),i(95),i(463),i(93),i(90),i(128),{name:"LBaseLayer",inject:["lMap"],mixins:[i(366).a],inheritAttrs:!1,props:{dToB:{type:[String,Array],default:"20px"},position:{type:String,default:"topright",validator:function(t){return-1!==["topleft","topright","bottomleft","bottomright"].indexOf(t)}},showType:{type:Boolean,default:!0},layersOptions:{type:[Array,Object],default:function(){return[]}}},data:function(){return{randomNum:Math.random(),layerComp:null,serviceType:"tileLayer",serviceTypeList:["tileLayer","wmsTileLayer","wmtsTileLayer","videoOverlay","imageOverlay"],typeNameObj:{vector:"矢量",terrain:"地形",image:"影像",earth:"地球"},visibleIndex:0,currentLayerOptions:null,mapTypeList:null}},computed:{positionClass:function(){var t,e=this.dToB,i=this.position,n=(e=Array.isArray(e)?e:e.split(" "))[0],a=1==e.length?n:e[1],s=i.includes("left")?"left":"right",o=i.includes("top")?"top":"bottom";return t={},Object(r.a)(t,s,n),Object(r.a)(t,o,a),t}},watch:{layersOptions:{deep:!0,immediate:!0,handler:function(t,e){this.dealOptions(!0),this.getMapTypeList()}}},methods:{handleChangeType:function(t,e){var i=this;if(e===this.visibleIndex)return!1;var n=this.serviceType;this.visibleIndex=e,t.type!=this.serviceType&&this.getLayerComp(),this.dealOptions(),this.$nextTick((function(){i.randomNum=Math.random(),i.$forceUpdate()})),this.$emit("changeType",t,n)},dealOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.layersOptions;if(Array.isArray(e)){if(t){var i=e.findIndex((function(t){return t.visible}));i=i>-1?i:0,this.visibleIndex=i}e=e[this.visibleIndex]}this.currentLayerOptions=e.config||e,this.getLayerComp()},getMapTypeList:function(){this.mapTypeList=null;var t=this.layersOptions;if(Array.isArray(t)){var e=this.typeNameObj;this.mapTypeList=t.map((function(t,i){var r=t.nameClass,a=t.name;return r&&!a&&e[r]?a=e[r]:console.warn("l-base-layer组件的layersOptions属性的第".concat(i,'个参数尚未配置"nameClass"或"name",请补全参数')),Object(n.a)({nameClass:r,name:a},t)}))}},getLayerComp:function(){if(!this.currentLayerOptions)return!1;var t=this.layersOptions,e=(Array.isArray(t)?t[this.visibleIndex].type:t.type)||"tileLayer";this.serviceType=e;var n=this.serviceTypeList;n.includes(e)?this.layerComp=i(464)("./".concat(e)).default:console.error('该组件不支持您传递的"'.concat(e,'"服务类型,请检查\n提示：该组件支持的服务类型有:').concat(n))}},mounted:function(){}}),s=(i(472),i(18)),o=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"l-base-layer"},[Array.isArray(t.currentLayerOptions)?t._l(t.currentLayerOptions,(function(e,n){return i(t.layerComp,t._b({key:t.randomNum+"-"+n,tag:"component"},"component",e,!1))})):"object"==typeof t.currentLayerOptions?[i(t.layerComp,t._b({key:t.randomNum,tag:"component"},"component",t.currentLayerOptions,!1))]:t._e(),t._v(" "),t.showType&&t.mapTypeList?i("div",{staticClass:"map-type-wrap",style:t.positionClass},[i("div",{staticClass:"map-type",on:{click:function(t){t.stopPropagation()}}},t._l(t.mapTypeList,(function(e,n){return i("div",{key:"map-type-"+n,staticClass:"map-type-item",class:[e.nameClass,{active:n==t.visibleIndex},e.customClass],on:{click:function(i){return t.handleChangeType(e,n)}}},[i("span",[t._v(t._s(e.name))])])})),0)]):t._e(),t._v(" "),t.$slots.default?i("span",[t._t("default")],2):t._e()],2)}),[],!1,null,"bbae226a",null);e.default=o.exports},397:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LCircle",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{latlng:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){var t=this;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.circle)(this.latlng,this.selfOptions),this.initFunction(),this.$nextTick((function(){t.isFitBounds&&t.lMap.self.fitBounds(t.self.getBounds())}))}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("div"):this._e()}),[],!1,null,null,null);e.default=o.exports},398:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LCircleMarker",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{latlng:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){var t=this;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.circleMarker)(this.latlng,this.selfOptions),this.initFunction(),this.$nextTick((function(){t.isFitBounds&&t.lMap.self.fitBounds(t.self.getBounds())}))}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("div"):this._e()}),[],!1,null,null,null);e.default=o.exports},399:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LFeatureGroup",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{layersArr:{type:Array,default:function(){return[]}}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.featureGroup)(this.layersArr,this.selfOptions),this.initFunction()}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{display:"none"}},[this.ready?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=o.exports},400:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LGeoJson",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{geojson:{type:[Array,Object],default:function(){return{}}},isFitBounds:{type:Boolean,default:!1}},data:function(){return{originOptions:{}}},methods:{addData:function(t){this.self.addData(t)},resetStyle:function(t){this.self.resetStyle(t)},setStyle:function(t){this.self.setStyle(t)},initLeafletObject:function(){var t=this;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.geoJSON)(this.geojson,this.selfOptions),this.initFunction(),this.$nextTick((function(){t.isFitBounds&&t.lMap.self.fitBounds(t.self.getBounds())}))}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{display:"none"}})}),[],!1,null,null,null);e.default=o.exports},401:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LLayerGroup",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{layersArr:{type:Array,default:function(){return[]}}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.layerGroup)(this.layersArr,this.selfOptions),this.initFunction()}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{display:"none"}},[this.ready?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=o.exports},402:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LPolygon",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{latlngs:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){var t=this;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.polygon)(this.latlngs,this.selfOptions),this.initFunction(),this.$nextTick((function(){t.isFitBounds&&t.lMap.self.fitBounds(t.self.getBounds())}))}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("div"):this._e()}),[],!1,null,null,null);e.default=o.exports},403:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LPolyline",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{latlngs:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){var t=this;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.polyline)(this.latlngs,this.selfOptions),this.initFunction(),this.$nextTick((function(){t.isFitBounds&&t.lMap.self.fitBounds(t.self.getBounds())}))}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("div"):this._e()}),[],!1,null,null,null);e.default=o.exports},404:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LRectangle",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{latlngs:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){var t=this;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.rectangle)(this.latlngs,this.selfOptions),this.initFunction(),this.$nextTick((function(){t.isFitBounds&&t.lMap.self.fitBounds(t.self.getBounds())}))}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("div"):this._e()}),[],!1,null,null,null);e.default=o.exports},405:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LPolyline",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{latlngs:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){var t=this;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.polyline)(this.latlngs,this.selfOptions),this.initFunction(),this.$nextTick((function(){t.isFitBounds&&t.lMap.self.fitBounds(t.self.getBounds())}))}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{display:"none"}},[this.ready?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=o.exports},406:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LCircleMarker",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{latlng:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){var t=this;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.circleMarker)(this.latlng,this.selfOptions),this.initFunction(),this.$nextTick((function(){t.isFitBounds&&t.lMap.self.fitBounds(t.self.getBounds())}))}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("div"):this._e()}),[],!1,null,null,null);e.default=o.exports},407:function(t,e,i){"use strict";i.r(e);var n=i(366),r=i(365),a={name:"LCircleMarker",inject:["lMap"],mixins:[n.a],inheritAttrs:!1,props:{latlng:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data:function(){return{originOptions:{}}},methods:{initLeafletObject:function(){var t=this;this.selfOptions=Object(r.extend)(this.originOptions,this.options,this.$attrs),this.self=Object(r.circleMarker)(this.latlng,this.selfOptions),this.initFunction(),this.$nextTick((function(){t.isFitBounds&&t.lMap.self.fitBounds(t.self.getBounds())}))}},mounted:function(){this.initLeafletObject()}},s=i(18),o=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("div"):this._e()}),[],!1,null,null,null);e.default=o.exports},429:function(t,e,i){},430:function(t,e,i){},431:function(t,e,i){},432:function(t,e,i){},462:function(t,e,i){"use strict";i(429)},464:function(t,e,i){var n={"./AAA":384,"./AAA/":384,"./AAA/index":384,"./AAA/index.js":384,"./AAA/src/main":405,"./AAA/src/main.vue":405,"./baseLayer":374,"./baseLayer/":374,"./baseLayer/index":374,"./baseLayer/index.js":374,"./baseLayer/src/icon.png":465,"./baseLayer/src/main":396,"./baseLayer/src/main.vue":396,"./circle":375,"./circle/":375,"./circle/index":375,"./circle/index.js":375,"./circle/src/main":397,"./circle/src/main.vue":397,"./circleMarker":376,"./circleMarker/":376,"./circleMarker/index":376,"./circleMarker/index.js":376,"./circleMarker/src/main":398,"./circleMarker/src/main.vue":398,"./drawLayer":377,"./drawLayer/":377,"./drawLayer/index":377,"./drawLayer/index.js":377,"./drawLayer/src/main":390,"./drawLayer/src/main.vue":390,"./featureGroup":378,"./featureGroup/":378,"./featureGroup/index":378,"./featureGroup/index.js":378,"./featureGroup/src/main":399,"./featureGroup/src/main.vue":399,"./geoJson":379,"./geoJson/":379,"./geoJson/index":379,"./geoJson/index.js":379,"./geoJson/src/main":400,"./geoJson/src/main.vue":400,"./imageOverlay":372,"./imageOverlay/":372,"./imageOverlay/index":372,"./imageOverlay/index.js":372,"./imageOverlay/src/main":394,"./imageOverlay/src/main.vue":394,"./layerGroup":380,"./layerGroup/":380,"./layerGroup/index":380,"./layerGroup/index.js":380,"./layerGroup/src/main":401,"./layerGroup/src/main.vue":401,"./map":368,"./map/":368,"./map/index":368,"./map/index.js":368,"./map/src/main":391,"./map/src/main.vue":391,"./marker":385,"./marker - 副本":386,"./marker - 副本/":386,"./marker - 副本/index":386,"./marker - 副本/index.js":386,"./marker - 副本/src/main":407,"./marker - 副本/src/main.vue":407,"./marker/":385,"./marker/index":385,"./marker/index.js":385,"./marker/src/main":406,"./marker/src/main.vue":406,"./polygon":381,"./polygon/":381,"./polygon/index":381,"./polygon/index.js":381,"./polygon/src/main":402,"./polygon/src/main.vue":402,"./polyline":382,"./polyline/":382,"./polyline/index":382,"./polyline/index.js":382,"./polyline/src/main":403,"./polyline/src/main.vue":403,"./rectangle":383,"./rectangle/":383,"./rectangle/index":383,"./rectangle/index.js":383,"./rectangle/src/main":404,"./rectangle/src/main.vue":404,"./tileLayer":369,"./tileLayer/":369,"./tileLayer/index":369,"./tileLayer/index.js":369,"./tileLayer/src/main":392,"./tileLayer/src/main.vue":392,"./videoOverlay":373,"./videoOverlay/":373,"./videoOverlay/index":373,"./videoOverlay/index.js":373,"./videoOverlay/src/main":395,"./videoOverlay/src/main.vue":395,"./wmsTileLayer":370,"./wmsTileLayer/":370,"./wmsTileLayer/index":370,"./wmsTileLayer/index.js":370,"./wmsTileLayer/src/main":393,"./wmsTileLayer/src/main.vue":393,"./wmtsTileLayer":371,"./wmtsTileLayer/":371,"./wmtsTileLayer/index":371,"./wmtsTileLayer/index.js":371,"./wmtsTileLayer/src/main":389,"./wmtsTileLayer/src/main.vue":389};function r(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=a,t.exports=r,r.id=464},465:function(t,e,i){t.exports=i.p+"assets/img/icon.3453a6ef.png"},470:function(t,e,i){"use strict";i(430)},471:function(t,e,i){"use strict";i(431)},472:function(t,e,i){"use strict";i(432)},477:function(t,e,i){"use strict";i.r(e);i(91),i(6),i(92),i(90);var n=i(368),r=i(369),a=i(370),s=i(371),o=i(372),l=i(373),u=i(374),c=i(377),d=i(380),f=i(378),h=i(379),p=i(382),m=i(381),y=i(383),v=i(375),g=i(376),O=(i(473),[n.default,r.default,a.default,o.default,l.default,s.default,d.default,f.default,h.default,u.default,c.default,p.default,m.default,y.default,v.default,g.default]),w=function(t){O.forEach((function(e){t.component(e.name,e)}))};"undefined"!=typeof window&&window.Vue&&w(window.Vue),e.default={install:w,LMap:n.default,LTileLayer:r.default,LWmsTileLayer:a.default,LImageOverlay:o.default,LVideoOverlay:l.default,LWmtsTileLayer:s.default,LLayerGroup:d.default,LFeatureGroup:f.default,LGeoJson:h.default,LBaseLayer:u.default,LDrawLayer:c.default,LPolyline:p.default,LPolygon:m.default,LRectangle:y.default,LCircle:v.default,LCircleMarker:g.default}}}]);